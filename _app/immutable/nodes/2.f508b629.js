import{s as X,n as V,r as Y,o as K}from"../chunks/scheduler.e108d1fd.js";import{S as Q,i as Z,g as p,s as I,m as N,h as m,j as g,f as v,c as j,n as B,y as G,k as i,a as H,x as o,z as W,A as F,o as z}from"../chunks/index.c5af3f48.js";function $(l){let e,a="Submit",s,c;return{c(){e=p("button"),e.textContent=a,this.h()},l(t){e=m(t,"BUTTON",{class:!0,["data-svelte-h"]:!0}),G(e)!=="svelte-1yvpmyp"&&(e.textContent=a),this.h()},h(){i(e,"class","submit svelte-1eyakd")},m(t,h){H(t,e,h),s||(c=F(e,"click",l[5]),s=!0)},p:V,d(t){t&&v(e),s=!1,c()}}}function ee(l){let e,a="Submit<br/>";return{c(){e=p("button"),e.innerHTML=a,this.h()},l(s){e=m(s,"BUTTON",{class:!0,["data-svelte-h"]:!0}),G(e)!=="svelte-14hevj3"&&(e.innerHTML=a),this.h()},h(){i(e,"class","not-submit svelte-1eyakd"),e.disabled=!0},m(s,c){H(s,e,c)},p:V,d(s){s&&v(e)}}}function te(l){let e,a,s,c,t,h,f=(l[1]!==void 0?l[1]:"")+"",b,w,k,d,E="(Message must be more than three characters long)",A,_,C=l[2][l[3]]+"",M,y,L,S,P,x;function J(n,r){return n[4]<4?ee:$}let O=J(l),u=O(l);return{c(){e=p("body"),a=p("div"),s=p("textarea"),c=I(),t=p("div"),h=p("div"),b=N(f),w=I(),u.c(),k=I(),d=p("p"),d.textContent=E,A=I(),_=p("div"),M=N(C),y=p("button"),L=N("Generate new message "),S=N(l[3]),this.h()},l(n){e=m(n,"BODY",{class:!0});var r=g(e);a=m(r,"DIV",{class:!0});var D=g(a);s=m(D,"TEXTAREA",{class:!0,id:!0,placeholder:!0}),g(s).forEach(v),c=j(D),t=m(D,"DIV",{class:!0});var T=g(t);h=m(T,"DIV",{class:!0});var R=g(h);b=B(R,f),R.forEach(v),w=j(T),u.l(T),k=j(T),d=m(T,"P",{class:!0,["data-svelte-h"]:!0}),G(d)!=="svelte-1oxaqvz"&&(d.textContent=E),T.forEach(v),D.forEach(v),A=j(r),_=m(r,"DIV",{class:!0,id:!0});var U=g(_);M=B(U,C),y=m(U,"BUTTON",{class:!0});var q=g(y);L=B(q,"Generate new message "),S=B(q,l[3]),q.forEach(v),U.forEach(v),r.forEach(v),this.h()},h(){i(s,"class","write svelte-1eyakd"),i(s,"id","write"),i(s,"placeholder","What's on your mind?"),i(h,"class","process svelte-1eyakd"),i(d,"class","char svelte-1eyakd"),i(t,"class","text-related svelte-1eyakd"),i(a,"class","form svelte-1eyakd"),i(y,"class","gen-new svelte-1eyakd"),i(_,"class","display svelte-1eyakd"),i(_,"id","display"),i(e,"class","svelte-1eyakd")},m(n,r){H(n,e,r),o(e,a),o(a,s),W(s,l[0]),o(a,c),o(a,t),o(t,h),o(h,b),o(t,w),u.m(t,null),o(t,k),o(t,d),o(e,A),o(e,_),o(_,M),o(_,y),o(y,L),o(y,S),P||(x=[F(s,"input",l[7]),F(y,"click",l[6])],P=!0)},p(n,[r]){r&1&&W(s,n[0]),r&2&&f!==(f=(n[1]!==void 0?n[1]:"")+"")&&z(b,f),O===(O=J(n))&&u?u.p(n,r):(u.d(1),u=O(n),u&&(u.c(),u.m(t,k))),r&12&&C!==(C=n[2][n[3]]+"")&&z(M,C),r&8&&z(S,n[3])},i:V,o:V,d(n){n&&v(e),u.d(),P=!1,Y(x)}}}function se(l,e,a){let s,c,t="";async function h(){(await fetch("http://localhost:3000/messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({msg:t})})).ok?(console.log("Message stored successfully"),a(0,t=""),a(1,c="Successfully submitted to the pool!")):(console.error("Failed to store message"),a(1,c="Failed to submit"))}let f=[];K(async()=>{const d=await fetch("http://localhost:3000/messages");if(d.ok){const E=await d.json();a(2,f=E.messages)}});let b=Math.floor(Math.random()*f.length);function w(){a(3,b=Math.floor(Math.random()*f.length))}function k(){t=this.value,a(0,t)}return l.$$.update=()=>{l.$$.dirty&1&&a(4,s=t.split("").length)},[t,c,f,b,s,h,w,k]}class ne extends Q{constructor(e){super(),Z(this,e,se,te,X,{})}}export{ne as component};
